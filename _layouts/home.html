---
layout: default
---

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content }}

  {%- if site.posts.size > 0 -%}
  <div class="home-container">
    <aside class="tag-sidebar">
      <h3>Tags</h3>
      <ul class="tag-list">
        <li><a href="#" class="tag-link active" data-tag="all">#all</a></li>
        {%- for tag in site.tags -%}
        <li><a href="#" class="tag-link" data-tag="{{ tag[0] | slugify }}">
          #{{ tag[0] }} <span class="tag-count">({{ tag[1].size }})</span>
        </a></li>
        {%- endfor -%}
      </ul>
    </aside>

    <div class="post-list-container">
      <h2 class="post-list-heading">{{ page.list_title | default: "Posts" }}</h2>
      <ul class="post-list">
        {%- for post in site.posts -%}
        <li data-tags="{{ post.tags | join: ' ' | downcase }}">
          {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
          <span class="post-meta">{{ post.date | date: date_format }}</span>
          <h3>
            <a class="post-link" href="{{ post.url | relative_url }}">
              {{ post.title | escape }}
            </a>
          </h3>
          {%- if post.tags.size > 0 -%}
          <span class="post-meta">
            {%- for tag in post.tags -%}
              #{{ tag }}{% unless forloop.last %} {% endunless %}
            {%- endfor -%}
          </span>
          {%- endif -%}
          {%- if site.show_excerpts -%}
            {{ post.excerpt }}
          {%- endif -%}
        </li>
        {%- endfor -%}
      </ul>

      <div class="subscribe-bar">
        <button class="subscribe-icon-btn" id="newsletter-toggle" aria-label="Subscribe by email" title="Subscribe by email">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
        </button>
        <a class="subscribe-icon-btn" href="{{ "/feed.xml" | relative_url }}" aria-label="Subscribe via RSS" title="Subscribe via RSS">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
        </a>
      </div>

      <div class="newsletter-subscribe" id="newsletter-form" hidden>
        <form action="https://buttondown.com/api/emails/embed-subscribe/ariansajina" method="post" class="embeddable-buttondown-form" referrerpolicy="unsafe-url">
          <label for="bd-email">Subscribe to new posts by email</label>
          <div class="newsletter-row">
            <input type="email" name="email" id="bd-email" placeholder="you@example.com" />
            <input type="submit" value="Subscribe" />
          </div>
          <p class="newsletter-powered"><a href="https://buttondown.com/refer/ariansajina" target="_blank">Powered by Buttondown.</a></p>
        </form>
      </div>
    </div>
  </div>
  {%- endif -%}
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  var links = document.querySelectorAll(".tag-link");
  var posts = document.querySelectorAll(".post-list li");

  function filterByTag(tag) {
    links.forEach(function (l) { l.classList.remove("active"); });
    var match = document.querySelector('.tag-link[data-tag="' + tag + '"]');
    if (match) match.classList.add("active");

    posts.forEach(function (post) {
      if (tag === "all") {
        post.style.display = "";
      } else {
        var postTags = post.getAttribute("data-tags");
        post.style.display = postTags.indexOf(tag) !== -1 ? "" : "none";
      }
    });
  }

  links.forEach(function (link) {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      filterByTag(this.getAttribute("data-tag"));
    });
  });

  // Newsletter toggle
  var newsletterToggle = document.getElementById("newsletter-toggle");
  var newsletterForm = document.getElementById("newsletter-form");
  if (newsletterToggle && newsletterForm) {
    newsletterToggle.addEventListener("click", function () {
      var hidden = newsletterForm.hasAttribute("hidden");
      if (hidden) {
        newsletterForm.removeAttribute("hidden");
        newsletterToggle.classList.add("active");
      } else {
        newsletterForm.setAttribute("hidden", "");
        newsletterToggle.classList.remove("active");
      }
    });
  }

  // Check URL for ?tag= parameter on page load
  var params = new URLSearchParams(window.location.search);
  var tagParam = params.get("tag");
  if (tagParam) {
    filterByTag(tagParam);
  }
});
</script>
